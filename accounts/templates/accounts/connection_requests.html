{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block content %}
<div class="container mt-4">
  <h3>Pending Connection Requests</h3>

  {% if pending_requests %}
    <ul class="list-group mt-3">
      {% for req in pending_requests %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ req.from_user.username }}</span>
          <div>
            <form method="POST" action="{% url 'accounts:accept_request' req.id %}" style="display:inline;">
              {% csrf_token %}
              <button type="submit" class="btn btn-success btn-sm">Accept</button>
            </form>
            <form method="POST" action="{% url 'accounts:reject_request' req.id %}" style="display:inline;">
              {% csrf_token %}
              <button type="submit" class="btn btn-danger btn-sm">Reject</button>
            </form>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <p class="mt-3">No pending requests.</p>
  {% endif %}
</div>
{% endblock %}
